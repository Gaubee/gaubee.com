{"abortReason":"!undefined","_urlRewrite":null,"_urlRedirect":"!undefined","abortStatusCode":"!undefined","_abortCall":"!undefined","_pageContextInitIsPassedToClient":"!undefined","pageId":"/pages/article/@id","routeParams":{"id":"0044.Configure-CNAME-on-the-local-device"},"data":{"article":{"fileEntry":{"path":"/home/runner/work/gaubee.com/gaubee.com/articles/0044.Configure-CNAME-on-the-local-device.md","options":{"cwd":"/home/runner/work/gaubee.com/gaubee.com/articles"},"isFile":true,"isDirectory":false},"originMetadata":{"layout":"layouts/article.njk","title":"在本机配置 CNAME","date":"!Date:2022-10-10T08:19:46.754Z","updated":"!Date:2022-10-10T08:19:46.754Z","tags":["linux","dns"]},"metadata":{"layout":"layouts/article.njk","title":"在本机配置 CNAME","date":"!Date:2022-10-10T08:19:46.754Z","updated":"!Date:2022-10-10T08:19:46.754Z","tags":["linux","dns"],"id":"0044.Configure-CNAME-on-the-local-device","createdAt":"!Date:2022-10-10T08:19:46.754Z","updatedAt":"!Date:2022-10-10T08:19:46.754Z"},"htmlContent":"<ol>\n<li>\n<p>安装 dnsmasq</p>\n<pre><code class=\"language-bash\">sudo apt-get install dnsmasq\n</code></pre>\n</li>\n<li>\n<p>配置 dnsmasq</p>\n<pre><code class=\"language-bash\">vi /etc/dnsmasq.d/test.conf # 随便开一个文件\n</code></pre>\n<blockquote>\n<p>填入：</p>\n</blockquote>\n<pre><code class=\"language-ini\">cname=from.gaubee.com,to.gaubee.com\n</code></pre>\n</li>\n<li>\n<p>修改本地 dns 配置：</p>\n<pre><code class=\"language-bash\">vi /etc/resolv.conf\n# 添加一行 nameserver 127.0.0.1\n</code></pre>\n<blockquote>\n<p>最终我自己本地这个文件是这样的</p>\n</blockquote>\n<pre><code class=\"language-ini\"># This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:\n# [network]\n# generateResolvConf = false\nnameserver 127.0.0.1\nnameserver 172.19.208.1\n</code></pre>\n</li>\n<li>\n<p>最后启动 dnsmasq 即可：</p>\n<pre><code class=\"language-bash\">/etc/init.d/dnsmasq start\n</code></pre>\n<blockquote>\n<p>它会监听本地 53 断开（DNS 服务的端口），如果报端口占用。那么查看一下占用程序</p>\n</blockquote>\n<pre><code class=\"language-bash\">sudo lsof -i -P -n | grep LISTEN\n</code></pre>\n</li>\n</ol>","markdownContent":"\n1. 安装 dnsmasq\n\n   ```bash\n   sudo apt-get install dnsmasq\n   ```\n\n1. 配置 dnsmasq\n\n   ```bash\n   vi /etc/dnsmasq.d/test.conf # 随便开一个文件\n   ```\n\n   > 填入：\n\n   ```ini\n   cname=from.gaubee.com,to.gaubee.com\n   ```\n\n1. 修改本地 dns 配置：\n\n   ```bash\n   vi /etc/resolv.conf\n   # 添加一行 nameserver 127.0.0.1\n   ```\n\n   > 最终我自己本地这个文件是这样的\n\n   ```ini\n   # This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:\n   # [network]\n   # generateResolvConf = false\n   nameserver 127.0.0.1\n   nameserver 172.19.208.1\n   ```\n\n1. 最后启动 dnsmasq 即可：\n\n   ```bash\n   /etc/init.d/dnsmasq start\n   ```\n\n   > 它会监听本地 53 断开（DNS 服务的端口），如果报端口占用。那么查看一下占用程序\n\n   ```bash\n   sudo lsof -i -P -n | grep LISTEN\n   ```\n"}}}