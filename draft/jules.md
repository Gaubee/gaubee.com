这是我的博客系统，其中：

1. articles 文件夹是我写的文章，通常是一些长内容
2. events 文件夹是我放的一些碎碎念，通常是一些短内容，但有时候也有一些长文，通常具有时效性。（下文称为 “短评”）
3. draft 文件夹是我的一些草稿
4. img 文件夹是我存储图片的地方
5. articles 和 events 下的文件的命名规范可以看`scripts/rename.ts`这个文件。draft 下的文件没有规范。
6. 以上三个文件夹是重要资料，要留存。但是图片文件夹是比较散乱的，我希望整理一下，基于文件名来整理，比如`0057.tc39-signals.md`这篇文章的图片就应该放在`assets/article-0057/`文件夹下，未来视频、音频、压缩包等等跟这篇文章有关的文件也可以往这里放。

我的诉求是彻底重写这个静态博客系统：

1. 面向用户：
   1. 仍然使用纯粹的 github-page 来部署。
   2. 实现一个类似推特的页面来将 articles 与 events 用卡片展示出来。
   3. 然后就是详情页，因为我都是 markdown 格式（可能有一些是有 customElements）
2. 面向开发者：
   1. 能让我我使用 lit.js 开发 customElements，并自动按需加载到需要的页面上
   2. 要有国际化的支持，虽然我都是用中文写作，当我希望全球的读者也能看到我的文章，所以要考虑国际化。比如原稿我放在 articles、events 下，然后英文我可能就放在 i18n/en/articles、i18n/en/events 下。
      - 如果多媒体资源也需要国际化，那么按照规范就放在`i18n/en/assets`文件夹下。根据上文的提示`i18n/en/articles/0057.tc39-signals.md`对应的图片就是放在`i18n/en/assets/article-0057/`下。翻译的时候要注意，如果存在`i18n/en/assets/article-0057/`这样的匹配当前文章的文件夹，那么要看看是否有和`assets/article-0057`同名的文件，在生成翻译文章的时候路径也要做好。
   3. 在 build 阶段，会执行 i18n 的脚本，基于文件的 hash 去去重：
      1. 比如我的原文章是`articles/0057.tc39-signals.md`，那么英文版本就是`i18n/en/articles/0057.tc39-signals.HASH.md`，这里文件的名称是一样的，中间加了一个 HASH 来避免重复工作。
         1. 这里的 HASH 生成的规则是：`sha256(fileContent+sortedAssetsFileNameList+sortedI18nAssetsFileNameList)`
      2. 使用 `@google/genai` 这个 npm 包来做 AI 翻译。我会在我的 github 上配置我的 API KEY，然后通过环境变量的方式去获取。这样 CI 在执行的时候就能自动翻译了。
      3. 如果我的源文件是`0066.md`这种属于没有文件名，那么使用 AI 帮我生成标准的英文文件名后，再去做翻译工作。
         1. 文件名要精简概要，通常是文章的关键词
3. 面向管理员：
   - 通常情况下我即使开发者也是管理员。但是开发者需要有开发环境，更多时候，我发一些 events，可能只是在手机上就想操作，所以并没有开发环境
   - 所以我需要有一个管理员界面，但是我们因为是纯粹的 github-page + github-actions 做静态的自动化部署。
   - 所以我的预期是，我们使用 github 的 api-key 来做一个纯前端的管理员功能，在前端实现 git-commit 操作。
   1. 能看到 repo 的所有文件，能进行一些常见的文件操作
   2. 有一些快捷的文件功能，比如“新增文章”、“新增短评”、“新增草稿”，比如“打开编辑文章：`0057.tc39-signals.md`”（这个是指最近的文章，按照序号就可以知道）
   3. 所有的文件操作都会实时暂存在本地 indexeddb 中，直到在前端执行 git-commit 操作，才把这些暂存操作按需清空。
      > 如果我们在前端真正实现了一个 git 客户端+基于 indexeddb 的文件系统，那么这些功能可能就是自带的，不需要额外开发。
      > 但是我又担心这样的实现会导致前端太重。因此可能需要技术调研讨论一下具体的解决方案。
   4. 最关键的体验在于 markdown 编辑器的体验，这个非常重要。
   5. 管理员的路径是访问 `gaubee.com/gaubee` 进入之前可能需要 github 访问授权，或者填写一下 github-api-token
