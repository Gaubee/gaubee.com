---
import "../tailwind.css";
import { ClientRouter } from "astro:transitions";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="GauBee's personal blog" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/icon-192x192.png" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <ClientRouter />
  </head>
  <body>
    <div class="container">
      <header class="left-sidebar">
        <slot name="left-sidebar" />
      </header>
      <main class="main-content" transition:name="main">
        <slot name="main-content" />
      </main>
      <aside class="right-sidebar">
        <slot name="right-sidebar" />
      </aside>
    </div>
  </body>
</html>
<style is:global>
  :root {
    --accent: 136, 58, 234;
    --accent-light: 224, 204, 250;
    --accent-dark: 49, 10, 101;
    --accent-gradient: linear-gradient(
      45deg,
      rgb(var(--accent)),
      rgb(var(--accent-light)) 30%,
      white 60%
    );
    --c-bg: #f7f7f7;
    --c-text: #111;
    --c-border: #e0e0e0;
  }
  html {
    font-family: system-ui, sans-serif;
    background-color: var(--c-bg);
    color: var(--c-text);
  }
  body {
    margin: 0;
  }
  code {
    font-family:
      Menlo,
      Monaco,
      Lucida Console,
      Liberation Mono,
      DejaVu Sans Mono,
      Bitstream Vera Sans Mono,
      Courier New,
      monospace;
  }

  .container {
    display: grid;
    grid-template-columns: 1fr;
    max-width: 1280px;
    margin: 0 auto;
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .container {
      /* Left sidebar, main content, right sidebar */
      grid-template-columns: 0.8fr 2fr 1fr;
      padding: 1rem;
    }
  }

  .left-sidebar,
  .right-sidebar {
    display: none; /* Hidden on mobile by default */
  }

  @media (min-width: 768px) {
    .left-sidebar,
    .right-sidebar {
      display: block; /* Visible on larger screens */
    }
    .right-sidebar {
      position: sticky;
      top: 1rem;
      height: 90vh;
    }
  }
</style>
