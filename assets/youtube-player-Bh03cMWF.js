import{i as O,_ as p,t as q,a as c,x as P,f as k,u as U}from"./custom-element-5yw23DFW-u-fv7RTc.js";Promise.withResolvers===void 0&&(Promise.withResolvers=()=>{const i={};return i.promise=new Promise((e,t)=>{i.resolve=e,i.reject=t}),i});const x=(i,e)=>{let t;const s=Object.assign(function(...o){const h=e?.apply(this,o);return(t===void 0||h!==t.key)&&(t={key:h,res:i.apply(this,o)}),t.res},{get source(){return i},get key(){return t?.key},get runned(){return t!=null},get returnValue(){return t?.res},reset(){t=void 0},rerun(...o){return s.reset(),s(...o)}});return Object.defineProperties(s,{source:{value:i,writable:!1,configurable:!0,enumerable:!0},key:{get:()=>t?.key,configurable:!0,enumerable:!0},runned:{get:()=>t!=null,configurable:!0,enumerable:!0},returnValue:{get:()=>t?.res,configurable:!0,enumerable:!0}}),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const R=Symbol();class A{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((e,t)=>{this.o=e,this.h=t}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,t,r){this.p=0,this.i=0,(this._=e).addController(this);const s=typeof t=="object"?t:{task:t,args:r};this.v=s.task,this.j=s.args,this.m=s.argsEqual??C,this.k=s.onComplete,this.A=s.onError,this.autoRun=s.autoRun??!0,"initialValue"in s&&(this.u=s.initialValue,this.i=2,this.O=this.T?.())}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;const e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}async S(){const e=this.T(),t=this.O;this.O=e,e===t||e===void 0||t!==void 0&&this.m(t,e)||await this.run(e)}async run(e){let t,r;e??=this.T(),this.O=e,this.i===1?this.q?.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const s=++this.p;this.q=new AbortController;let o=!1;try{t=await this.v(e,{signal:this.q.signal})}catch(h){o=!0,r=h}if(this.p===s){if(t===R)this.i=0;else{if(o===!1){try{this.k?.(t)}catch{}this.i=2,this.o?.(t)}else{try{this.A?.(r)}catch{}this.i=3,this.h?.(r)}this.u=t,this.l=r}this._.requestUpdate()}}abort(e){this.i===1&&this.q?.abort(e)}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){switch(this.i){case 0:return e.initial?.();case 1:return e.pending?.();case 2:return e.complete?.(this.value);case 3:return e.error?.(this.error);default:throw Error("Unexpected status: "+this.i)}}}const C=(i,e)=>i===e||i.length===e.length&&i.every((t,r)=>!k(t,e[r]));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E={attribute:!0,type:String,converter:U,reflect:!1,hasChanged:k},z=(i=E,e,t)=>{const{kind:r,metadata:s}=t;let o=globalThis.litPropertyMetadata.get(s);if(o===void 0&&globalThis.litPropertyMetadata.set(s,o=new Map),r==="setter"&&((i=Object.create(i)).wrapped=!0),o.set(t.name,i),r==="accessor"){const{name:h}=t;return{set(u){const d=e.get.call(this);e.set.call(this,u),this.requestUpdate(h,d,i)},init(u){return u!==void 0&&this.C(h,void 0,i,u),u}}}if(r==="setter"){const{name:h}=t;return function(u){const d=this[h];e.call(this,u),this.requestUpdate(h,d,i)}}throw Error("Unsupported decorator location: "+r)};function y(i){return(e,t)=>typeof t=="object"?z(i,e,t):((r,s,o)=>{const h=s.hasOwnProperty(o);return s.constructor.createProperty(o,r),h?Object.getOwnPropertyDescriptor(s,o):void 0})(i,e,t)}(()=>{let i=[q("com-youtube-player")],e,t=[],r,s=O,o,h=[],u=[],d,_=[],b=[],v,w=[],I=[];var m=class extends s{static{r=this}static{const n=typeof Symbol=="function"&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;o=[y({type:String,reflect:!0,attribute:!0})],d=[y({type:Number,reflect:!0,attribute:!0})],v=[y({type:Number,reflect:!0,attribute:!0})],p(this,null,o,{kind:"accessor",name:"videoId",static:!1,private:!1,access:{has:a=>"videoId"in a,get:a=>a.videoId,set:(a,l)=>{a.videoId=l}},metadata:n},h,u),p(this,null,d,{kind:"accessor",name:"width",static:!1,private:!1,access:{has:a=>"width"in a,get:a=>a.width,set:(a,l)=>{a.width=l}},metadata:n},_,b),p(this,null,v,{kind:"accessor",name:"height",static:!1,private:!1,access:{has:a=>"height"in a,get:a=>a.height,set:(a,l)=>{a.height=l}},metadata:n},w,I),p(null,e={value:r},i,{kind:"class",name:r.name,metadata:n},null,t),m=r=e.value,n&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static youtubeApiIniter=x(()=>{const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";const a=document.getElementsByTagName("script")[0];return document.head.insertBefore(n,a),new Promise((l,g)=>{globalThis.onYouTubeIframeAPIReady=()=>{l(globalThis.YT)},n.onerror=g})});#t=c(this,h,"");get videoId(){return this.#t}set videoId(n){this.#t=n}#e=(c(this,u),c(this,_,600));get width(){return this.#e}set width(n){this.#e=n}#i=(c(this,b),c(this,w,400));get height(){return this.#i}set height(n){this.#i=n}__task=(c(this,I),new A(this,async n=>{const a=await m.youtubeApiIniter();if(!n)return;function l(f){f.target.playVideo()}let g=!1;function T(f){f.data==a.PlayerState.PLAYING&&!g&&(setTimeout(S,6e3),g=!0)}function S(){j.stopVideo()}const j=new a.Player(this,{height:this.height,width:this.width,videoId:n,playerVars:{playsinline:1},events:{onReady:l,onStateChange:T}})},()=>[this.videoId]));render(){return P`<style>
        :host {
          display: block;
          width: ${this.width}px;
          height: ${this.height}px;
        }
      </style>
      <slot>
        ${this.__task.render({pending(){return P`<div>Loading...</div>`}})}
      </slot>`}static{c(r,t)}};return m=r})();
