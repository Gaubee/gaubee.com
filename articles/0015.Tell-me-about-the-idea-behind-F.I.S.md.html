<!DOCTYPE html><html lang="zh-CN"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/png" href="/icon-192x192.png"><meta name="generator" content="Astro v5.13.9"><title>说说F.I.S背后的思想</title><meta name="description" content="Gaubee's personal blog"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.B3vRBseb.js"></script><style>astro-island:has(.md-renderer)~.fallback-content{display:none}
</style>
<link rel="stylesheet" href="/_astro/editor.DuBCv8QM.css">
<link rel="stylesheet" href="/_astro/MarkdownRenderer.COXD5gRV.css"></head> <body class="bg-white text-zinc-900 transition-colors duration-300 dark:bg-zinc-900 dark:text-zinc-50">  <div class="flex max-w-7xl mx-auto"> <aside class="hidden lg:block sticky top-0 h-screen w-64 flex-shrink-0 py-8 pr-8"> <aside class="w-64 p-4 pr-8"><nav class="flex flex-col space-y-2"><a href="/" class="flex items-center gap-4 py-3 px-6 text-lg font-semibold no-underline text-zinc-900 dark:text-zinc-100 rounded-full transition-colors duration-200 ease-in-out hover:bg-gray-200 dark:hover:bg-zinc-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house" aria-hidden="true"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg><span>主页</span></a><a href="/events" class="flex items-center gap-4 py-3 px-6 text-lg font-semibold no-underline text-zinc-900 dark:text-zinc-100 rounded-full transition-colors duration-200 ease-in-out hover:bg-gray-200 dark:hover:bg-zinc-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss" aria-hidden="true"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg><span>时事快讯</span></a></nav></aside> </aside> <main class="flex-1 min-w-0"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="t7E4q" prefix="r15" component-url="/_astro/MobileNav.IYPvWUAA.js" component-export="default" renderer-url="/_astro/client.D0HLj-jK.js" props="{&quot;title&quot;:[0,&quot;说说F.I.S背后的思想&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;MobileNav&quot;,&quot;value&quot;:true}" await-children><div id="mobile-topbar" class="sticky top-0 z-50 flex h-14 items-center justify-between border-b border-zinc-200 bg-white/80 px-4 backdrop-blur-sm dark:border-zinc-800 dark:bg-zinc-900/80 lg:hidden"><div class="w-6"></div><div class="absolute left-1/2 -translate-x-1/2 text-sm font-semibold text-zinc-700 dark:text-zinc-300">说说F.I.S背后的思想</div><button type="button" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu" aria-hidden="true"><path d="M4 5h16"></path><path d="M4 12h16"></path><path d="M4 19h16"></path></svg></button></div><template data-astro-template> <div class="space-y-4"> <astro-island uid="ZDy2R0" prefix="r8" component-url="/_astro/TableOfContentsCard.BBvTc4w5.js" component-export="default" renderer-url="/_astro/client.D0HLj-jK.js" props="{&quot;headings&quot;:[1,[]]}" ssr client="load" opts="{&quot;name&quot;:&quot;TableOfContentsCard&quot;,&quot;value&quot;:true}"></astro-island> <!-- <TagsCard client:load tags={allTags} />
          <ArchiveCard client:load postsByMonth={postsByMonth} /> --> </div> </template><!--astro:end--></astro-island> <div class="p-6">  <article class="prose dark:prose-invert max-w-none" data-astro-cid-eomsrdgo> <!-- 1. 只在客户端渲染 --> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><astro-island uid="1vDU72" component-url="/_astro/MarkdownRenderer.kxY-DVdT.js" component-export="default" renderer-url="/_astro/client.D0HLj-jK.js" props="{&quot;className&quot;:[0,&quot;md-renderer&quot;],&quot;markdown&quot;:[0,&quot;&gt; **注：** 本文章的文字内容来自鬼懿群 19:08 2014/2/11 的内容，并非访谈形式。内容有所删减。\n&gt; 主要人物 @漂流瓶\n\n首先，你要相信，有办法做到同一个页面，根据不同的 url 或者 ua 可以把它输出为 json 结构的数据或者传统页面\n以 php 为例\n稍等，我简单 coding 一下\n\n![image](../../../assets/article-0015/img-1.png)\n\n这是一个传统 html 页面\n有三个小部件\nA、B、C\n现在，我们希望用组件化的方式来维护他们，代码可能变成了\n\n![image](../../../assets/article-0015/img-2.png)\n\n假设，这个页面的 url 是 /index\n好了，我们是否能开发一种框架，使得：\n1 当一个普通的浏览器用户或者网络爬虫用户访问 /index 的时候，输出一个传统的 html 内容\n2 当一个 js 发起的 ajax 请求，比如是 /index?widgets=A,B 的时候，页面返回一个 json 数据，内容是 A、B 两个小部件的 html 代码？\n如果能开发一个框架，满足上述两个条件，那么，你可以做到：\n1 用户第一次访问页面，网络爬虫访问页面，都得到一个传统的 html 代码\n2 当我们需要更新页面中的一个小组件的时候，可以用 ajax 获取这个页面中的局部内容进行更新，从而得到一站式应用\n我们也开发了一个工具内置的调试服务器，支持 php、jsp、nodejs 的后端服务。我们只是构造一个能运行模板的 mock 环境，api 和后端一致，但数据来源都是模拟数据\n前端工程师写代码的时候感觉不到自己在写一站式应用\n解决 A 问题，不一定非要 B 方案\n同步更新后端工程师的代码，就可能是一个 X-Y 问题\n\n&gt; 那你说一下怎么让他们感觉不到服务器端的存在，也不需要他们为这块做任何附加的工作\n\n你的目标是运行他们的模板代码，而不是运行整个网站的代码\n运行模板代码会简单很多，而且可以保证在本地运行起来的模板代码，在真实的环境中也是一样的运行效果\n\n&gt; 你们的服务器是什么样的，是不是一个 bat 脚本，开发人员只要双击一下，服务器就建好了，它只处理渲染模块的事件？\n&gt; 那 mock 的数据是不是在一个 data 目录里，用 txt 来保存，能区别不同的参数\n\n使用方式类似，但还有些东西要做，这里我们曾经走过很多弯路，或许你觉得有问题，但可以作为一个借鉴\n可能是你曾经放弃的一个方向，但我们坚持了过来\n\n&gt; 我觉得没有什么问题\n&gt; 只是我在想一个连这个假后端都不用的方案\n\n听我说完吧，我知道这是你曾经放弃的方向，也是我们曾经想要放弃的，但是走来之后，大家用的都很爽，我们为百度 40 多个产品线 300 多个工程师提供的技术，不会很不靠谱吧\n首先，从本地服务器开发说起。我们不是用的现成的东西，因为很重，安装麻烦。我们要求工程师不安装的，并且同时能支持 php、jsp 和 nodejs 的后端服务\n\n&gt; 漂流瓶，相信我，我没有不同意你的看法\n&gt; 你说的方案，我考虑过，也在之前的公司推广过\n&gt; 也的确能行得通\n\n相信我，你听我说完，可能会是一个不一样的结果。因为这是一个猜得到开头，可能猜不到结局的方案啊\n虽然开头有些前篇一律\n我们光在本地服务器开发上就花费了很多投入\nnode、jre 我们认为已存在了的没有考虑，前端工程师都有的环境。php-cgi 我们本来想集成到 fis 里，但是嫌大就放弃了，这个环境有一键安装的东西\n1 我们用 jetty 开发了一个 1.8M 的服务器，这个服务器支持 java、jsp，\n2 我们开发了一个 npm 包，使用了 1 中的服务器，加上 nodejs 服务器\n这样，我们的服务器就支持 java、jsp、nodejs 了。接下来，jetty 有 factcgi 链接功能，我们要求用户提供 php-cgi 环境，如果没有，我们也有 allinone 的脚本\n我承认，对于 php 开发的用户来说，安装 php-cgi 要花一些时间，不过对于业绩所有前端开发工程师来说，一个包含了 java\\jsp\\nodejs\\php 的服务器，而且只有 1.8m，应该比较够用了\n3 我们把这个 server 和工具放在了一起，成为工具的一部分。这样，每个新人用 npm 安装工具的时候，就有了这个 server，分发的能力基本可以接受\nserver 只是第一步，接下来要解决的是本地模板运行、数据模拟、url 模拟、ajax 响应的问题。我觉得这部分可能是你说的比较不能统一的。也是我想说的那个“没猜到的结局”部分\n有了 server，我们可以运行 jsp、freemarker、velocity、smarty 等模板。以 smarty 为例（它最简单），它需要的后端接口有哪些呢？\n1 display：渲染模板\n2 assign：注入数据\n3 业务相关的数据、处理接口\n其中，display、assign 是模板引擎提供的 api，业务数据处理接口才是我们需要 mock 的，这里还有几个问题：\n1 不同产品线有不同的 api，我们不能写死，而是应该给 server 一个可配置的能力，使得产品线提供一个文件，就能简单 mock 这些 api 的处理\n2 url 不同的产品线也有很多不同，这里我们要有一种办法提供 url 的控制\n总之，工具、框架、本地环境各自都是一块可以说很多的东西\n把这些工具、框架、流程打通也很重要，东拼西凑的还是挺难弄的，工具和框架不配套，或者框架和规范不配套的事情非常纠结\n\n&gt; 我回头再一看，我感觉你好像有点本末倒了\n&gt; 前端开发人员来说，没有 php,java,node 的区别\n&gt; 他们要处理的只有 html 之类的\n&gt; 最多也只是模板语法的区别\n&gt; 所以你大可不用准备三四种语言的服务器\n\n我说的是构造环境，这些真正的开发人员不需要知道\n\n&gt; 所以为什么要把 php,jsp,node 集为一体呢\n\n最终用户不知道有这些细节\n为了我们的工具可以面向更多的团队\n\n&gt; 做一个这个的服务器呢\n&gt; 前端人员，只要知道模板语法呀\n\n是啊\n\n我没有破坏这个前提，我们的目标是一致的，开发体验也是要极致追求的\n我们之前用 java 的 php 模拟的一个类来处理 php，结果有很多坑，前端工程师更不可能知道了\njetty，有一个功能，就是可以用 fastcgi 连接 php-cgi 进程，这里不赘述了，反正就是能跑一个真实的 php 环境\n接着说一下 url 模拟的问题，这部分是工程师关心的\n我还是不扯太多了，我直接说结果吧\n工程师开发模板，全都是前端代码\n我们的 server，有一个功能，就是下载一个文件包，这个包里来自一个生态环境，这里面就是对某个产品线后端 api 的 mock\n前端工程师开发的时候，开发体验是这样的：\n1 启动本地服务器：\nfis server start\n2 如果是第一次启动，给 server 安装一个小小的模拟 url 控制的路由器：\nfis server install xxx-server-mock\n3 开发自己的代码，把结果投送到本地服务器的浏览目中\n这个 xxx-server-mock，就是几个简单的 php 文件，提供了模板所需的 api，不同的产品线可能不同，但都通过 server install xxx 来获取就行\n不同的团队可以有不同的 mock 包，但代码都简单的。\n我们的 server 有两种启动模式，一种是 no-rewrite，就是传统的 server。另一种是 rewrite，可以把所有请求交给 mock 包里的一个 index.php 处理，它来实现 url 的模拟\n这样，真正的工程师不知道我们在 mock 包里写了什么，他也不需要知道。他只知道第一次使用工具，要执行以下 server install xxx-server-mock\n这个时候，这个服务器就是为其量身定做的服务器了\n\n&gt; 说的是 FIS 这个工具？\n\n恩，fis 是一个帮助前端架构师设计开发规范、开发框架，开发流程，并最终把他们串联起来的一个系统\n我们希望每个团队的架构师根据自己团队的项目特点选择合适的框架、定制合理的开发规范、目录结构，并且融入到公司已有的开发流程中\n这四个东西，需要一个工具来连接起来，使得开发形成一个比较流畅的体验&quot;],&quot;data-astro-cid-eomsrdgo&quot;:[0,true]}" ssr client="only" opts="{&quot;name&quot;:&quot;MarkdownRenderer&quot;,&quot;value&quot;:true}"></astro-island> <!-- 2. 无 JS 时的回退 --> <div class="fallback-content" data-astro-cid-eomsrdgo> <blockquote>
<p><strong>注：</strong> 本文章的文字内容来自鬼懿群 19:08 2014/2/11 的内容，并非访谈形式。内容有所删减。
主要人物 @漂流瓶</p>
</blockquote>
<p>首先，你要相信，有办法做到同一个页面，根据不同的 url 或者 ua 可以把它输出为 json 结构的数据或者传统页面
以 php 为例
稍等，我简单 coding 一下</p>
<p><img alt="image" loading="lazy" decoding="async" fetchpriority="auto" width="322" height="178" src="/_astro/img-1.CBu-z1ft_Z1vyVsY.webp" ></p>
<p>这是一个传统 html 页面
有三个小部件
A、B、C
现在，我们希望用组件化的方式来维护他们，代码可能变成了</p>
<p><img alt="image" loading="lazy" decoding="async" fetchpriority="auto" width="261" height="161" src="/_astro/img-2.DcOviZTw_tSp6G.webp" ></p>
<p>假设，这个页面的 url 是 /index
好了，我们是否能开发一种框架，使得：
1 当一个普通的浏览器用户或者网络爬虫用户访问 /index 的时候，输出一个传统的 html 内容
2 当一个 js 发起的 ajax 请求，比如是 /index?widgets=A,B 的时候，页面返回一个 json 数据，内容是 A、B 两个小部件的 html 代码？
如果能开发一个框架，满足上述两个条件，那么，你可以做到：
1 用户第一次访问页面，网络爬虫访问页面，都得到一个传统的 html 代码
2 当我们需要更新页面中的一个小组件的时候，可以用 ajax 获取这个页面中的局部内容进行更新，从而得到一站式应用
我们也开发了一个工具内置的调试服务器，支持 php、jsp、nodejs 的后端服务。我们只是构造一个能运行模板的 mock 环境，api 和后端一致，但数据来源都是模拟数据
前端工程师写代码的时候感觉不到自己在写一站式应用
解决 A 问题，不一定非要 B 方案
同步更新后端工程师的代码，就可能是一个 X-Y 问题</p>
<blockquote>
<p>那你说一下怎么让他们感觉不到服务器端的存在，也不需要他们为这块做任何附加的工作</p>
</blockquote>
<p>你的目标是运行他们的模板代码，而不是运行整个网站的代码
运行模板代码会简单很多，而且可以保证在本地运行起来的模板代码，在真实的环境中也是一样的运行效果</p>
<blockquote>
<p>你们的服务器是什么样的，是不是一个 bat 脚本，开发人员只要双击一下，服务器就建好了，它只处理渲染模块的事件？
那 mock 的数据是不是在一个 data 目录里，用 txt 来保存，能区别不同的参数</p>
</blockquote>
<p>使用方式类似，但还有些东西要做，这里我们曾经走过很多弯路，或许你觉得有问题，但可以作为一个借鉴
可能是你曾经放弃的一个方向，但我们坚持了过来</p>
<blockquote>
<p>我觉得没有什么问题
只是我在想一个连这个假后端都不用的方案</p>
</blockquote>
<p>听我说完吧，我知道这是你曾经放弃的方向，也是我们曾经想要放弃的，但是走来之后，大家用的都很爽，我们为百度 40 多个产品线 300 多个工程师提供的技术，不会很不靠谱吧
首先，从本地服务器开发说起。我们不是用的现成的东西，因为很重，安装麻烦。我们要求工程师不安装的，并且同时能支持 php、jsp 和 nodejs 的后端服务</p>
<blockquote>
<p>漂流瓶，相信我，我没有不同意你的看法
你说的方案，我考虑过，也在之前的公司推广过
也的确能行得通</p>
</blockquote>
<p>相信我，你听我说完，可能会是一个不一样的结果。因为这是一个猜得到开头，可能猜不到结局的方案啊
虽然开头有些前篇一律
我们光在本地服务器开发上就花费了很多投入
node、jre 我们认为已存在了的没有考虑，前端工程师都有的环境。php-cgi 我们本来想集成到 fis 里，但是嫌大就放弃了，这个环境有一键安装的东西
1 我们用 jetty 开发了一个 1.8M 的服务器，这个服务器支持 java、jsp，
2 我们开发了一个 npm 包，使用了 1 中的服务器，加上 nodejs 服务器
这样，我们的服务器就支持 java、jsp、nodejs 了。接下来，jetty 有 factcgi 链接功能，我们要求用户提供 php-cgi 环境，如果没有，我们也有 allinone 的脚本
我承认，对于 php 开发的用户来说，安装 php-cgi 要花一些时间，不过对于业绩所有前端开发工程师来说，一个包含了 java\jsp\nodejs\php 的服务器，而且只有 1.8m，应该比较够用了
3 我们把这个 server 和工具放在了一起，成为工具的一部分。这样，每个新人用 npm 安装工具的时候，就有了这个 server，分发的能力基本可以接受
server 只是第一步，接下来要解决的是本地模板运行、数据模拟、url 模拟、ajax 响应的问题。我觉得这部分可能是你说的比较不能统一的。也是我想说的那个“没猜到的结局”部分
有了 server，我们可以运行 jsp、freemarker、velocity、smarty 等模板。以 smarty 为例（它最简单），它需要的后端接口有哪些呢？
1 display：渲染模板
2 assign：注入数据
3 业务相关的数据、处理接口
其中，display、assign 是模板引擎提供的 api，业务数据处理接口才是我们需要 mock 的，这里还有几个问题：
1 不同产品线有不同的 api，我们不能写死，而是应该给 server 一个可配置的能力，使得产品线提供一个文件，就能简单 mock 这些 api 的处理
2 url 不同的产品线也有很多不同，这里我们要有一种办法提供 url 的控制
总之，工具、框架、本地环境各自都是一块可以说很多的东西
把这些工具、框架、流程打通也很重要，东拼西凑的还是挺难弄的，工具和框架不配套，或者框架和规范不配套的事情非常纠结</p>
<blockquote>
<p>我回头再一看，我感觉你好像有点本末倒了
前端开发人员来说，没有 php,java,node 的区别
他们要处理的只有 html 之类的
最多也只是模板语法的区别
所以你大可不用准备三四种语言的服务器</p>
</blockquote>
<p>我说的是构造环境，这些真正的开发人员不需要知道</p>
<blockquote>
<p>所以为什么要把 php,jsp,node 集为一体呢</p>
</blockquote>
<p>最终用户不知道有这些细节
为了我们的工具可以面向更多的团队</p>
<blockquote>
<p>做一个这个的服务器呢
前端人员，只要知道模板语法呀</p>
</blockquote>
<p>是啊</p>
<p>我没有破坏这个前提，我们的目标是一致的，开发体验也是要极致追求的
我们之前用 java 的 php 模拟的一个类来处理 php，结果有很多坑，前端工程师更不可能知道了
jetty，有一个功能，就是可以用 fastcgi 连接 php-cgi 进程，这里不赘述了，反正就是能跑一个真实的 php 环境
接着说一下 url 模拟的问题，这部分是工程师关心的
我还是不扯太多了，我直接说结果吧
工程师开发模板，全都是前端代码
我们的 server，有一个功能，就是下载一个文件包，这个包里来自一个生态环境，这里面就是对某个产品线后端 api 的 mock
前端工程师开发的时候，开发体验是这样的：
1 启动本地服务器：
fis server start
2 如果是第一次启动，给 server 安装一个小小的模拟 url 控制的路由器：
fis server install xxx-server-mock
3 开发自己的代码，把结果投送到本地服务器的浏览目中
这个 xxx-server-mock，就是几个简单的 php 文件，提供了模板所需的 api，不同的产品线可能不同，但都通过 server install xxx 来获取就行
不同的团队可以有不同的 mock 包，但代码都简单的。
我们的 server 有两种启动模式，一种是 no-rewrite，就是传统的 server。另一种是 rewrite，可以把所有请求交给 mock 包里的一个 index.php 处理，它来实现 url 的模拟
这样，真正的工程师不知道我们在 mock 包里写了什么，他也不需要知道。他只知道第一次使用工具，要执行以下 server install xxx-server-mock
这个时候，这个服务器就是为其量身定做的服务器了</p>
<blockquote>
<p>说的是 FIS 这个工具？</p>
</blockquote>
<p>恩，fis 是一个帮助前端架构师设计开发规范、开发框架，开发流程，并最终把他们串联起来的一个系统
我们希望每个团队的架构师根据自己团队的项目特点选择合适的框架、定制合理的开发规范、目录结构，并且融入到公司已有的开发流程中
这四个东西，需要一个工具来连接起来，使得开发形成一个比较流畅的体验</p> </div> </article>  </div> </main> <aside class="hidden lg:block sticky top-0 h-screen w-64 flex-shrink-0 py-8 pl-8"> <div class="space-y-4">  <div class="rounded-xl border bg-card text-card-foreground shadow"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold leading-none tracking-tight">Tags</div></div><div class="p-6 pt-0"><div class="flex flex-wrap gap-2"><a href="/tags/article" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">article</a><a href="/tags/event" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">event</a><a href="/tags/rust" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">rust</a><a href="/tags/iced" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">iced</a><a href="/tags/gui" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">gui</a><a href="/tags/multiplatform" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">multiplatform</a><a href="/tags/mobile" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">mobile</a><a href="/tags/web" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">web</a><a href="/tags/Kotlin" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">Kotlin</a><a href="/tags/linux" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">linux</a><a href="/tags/dns" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">dns</a><a href="/tags/javascript" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">javascript</a><a href="/tags/async" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">async</a><a href="/tags/reactive" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">reactive</a><a href="/tags/html&amp;css" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">html&amp;css</a><a href="/tags/cogitation" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">cogitation</a><a href="/tags/tools" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">tools</a><a href="/tags/efficiency" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">efficiency</a><a href="/tags/trivial" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">trivial</a><a href="/tags/lift" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">lift</a><a href="/tags/C++" class="bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold">C++</a></div></div></div> <div class="rounded-xl border bg-card text-card-foreground shadow"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold leading-none tracking-tight">Archive</div></div><div class="p-6 pt-0"><ul><li><a href="/archive/2025/09">2025-09<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2025/06">2025-06<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2025/05">2025-05<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2025/04">2025-04<!-- --> (<!-- -->12<!-- -->)</a></li><li><a href="/archive/2025/03">2025-03<!-- --> (<!-- -->9<!-- -->)</a></li><li><a href="/archive/2024/05">2024-05<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2024/04">2024-04<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/archive/2023/05">2023-05<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2023/04">2023-04<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2023/03">2023-03<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2022/10">2022-10<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2022/04">2022-04<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2021/12">2021-12<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/archive/2021/07">2021-07<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2021/04">2021-04<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2020/10">2020-10<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2020/09">2020-09<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2020/05">2020-05<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2020/04">2020-04<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2020/03">2020-03<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2018/07">2018-07<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2017/10">2017-10<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2017/03">2017-03<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2016/10">2016-10<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2016/09">2016-09<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2016/08">2016-08<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2016/07">2016-07<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2016/05">2016-05<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2016/03">2016-03<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2016/02">2016-02<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2015/02">2015-02<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2014/09">2014-09<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2014/04">2014-04<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2014/03">2014-03<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2014/02">2014-02<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2014/01">2014-01<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2013/12">2013-12<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2013/10">2013-10<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2013/09">2013-09<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2013/08">2013-08<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2013/07">2013-07<!-- --> (<!-- -->2<!-- -->)</a></li><li><a href="/archive/2013/06">2013-06<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/archive/2013/05">2013-05<!-- --> (<!-- -->4<!-- -->)</a></li></ul></div></div> </div> </aside> </div> <astro-island uid="twXPy" prefix="r11" component-url="/_astro/Footer.DbUwA-sc.js" component-export="default" renderer-url="/_astro/client.D0HLj-jK.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;Footer&quot;,&quot;value&quot;:true}" await-children><footer class="border-t border-zinc-200 dark:border-zinc-700 mt-12 pt-8 pb-12"><div class="flex items-center justify-center space-x-6 text-sm text-zinc-600 dark:text-zinc-400"><a href="https://github.com/gaubee/gaubee.com" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 transition-colors hover:text-zinc-900 dark:hover:text-zinc-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg><span>Source Code</span></a><a href="https://beian.miit.gov.cn/#/Integrated/recordQuery" target="_blank" rel="noopener noreferrer" class="transition-colors hover:text-zinc-900 dark:hover:text-zinc-100">闽ICP备17026139号-1</a></div></footer><!--astro:end--></astro-island> <astro-island uid="Tziuc" prefix="r12" component-url="/_astro/BackToTop.CO3miaR6.js" component-export="default" renderer-url="/_astro/client.D0HLj-jK.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;BackToTop&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Back to top" class="fixed right-8 bottom-8 z-50 flex h-12 w-12 items-center justify-center rounded-full bg-zinc-900/20 text-white shadow-lg backdrop-blur-sm backdrop-saturate-200 transition-opacity duration-300 hover:bg-zinc-700 dark:bg-zinc-100/20 dark:text-zinc-900 dark:hover:bg-zinc-300 opacity-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up" aria-hidden="true"><path d="m5 12 7-7 7 7"></path><path d="M12 19V5"></path></svg></button><!--astro:end--></astro-island>  </body></html> 