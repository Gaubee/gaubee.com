import{c as R}from"./createLucideIcon.ppU5_upu.js";import{j as c}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.BYzbZSVE.js";import{O as M,P as S,C as L,a as V,X as z,T as v,D as T,R as F,e as W}from"./index.Be-VhXy0.js";import{c as u}from"./utils.CqRLJIz_.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],ye=R("git-commit-horizontal",_),x=(e,t)=>t.some(n=>e instanceof n);let N,C;function K(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G(){return C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D=new WeakMap,p=new WeakMap,y=new WeakMap;function H(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(l(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return y.set(t,e),t}function X(e){if(D.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});D.set(e,t)}let b={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return D.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return l(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function O(e){b=e(b)}function $(e){return G().includes(e)?function(...t){return e.apply(w(this),t),l(this.request)}:function(...t){return l(e.apply(w(this),t))}}function J(e){return typeof e=="function"?$(e):(e instanceof IDBTransaction&&X(e),x(e,K())?new Proxy(e,b):e)}function l(e){if(e instanceof IDBRequest)return H(e);if(p.has(e))return p.get(e);const t=J(e);return t!==e&&(p.set(e,t),y.set(t,e)),t}const w=e=>y.get(e);function Q(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),f=l(o);return s&&o.addEventListener("upgradeneeded",a=>{s(l(o.result),a.oldVersion,a.newVersion,l(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),f.then(a=>{i&&a.addEventListener("close",()=>i()),r&&a.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const U=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],h=new Map;function E(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(h.get(t))return h.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=Y.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||U.includes(n)))return;const i=async function(o,...f){const a=this.transaction(o,r?"readwrite":"readonly");let d=a.store;return s&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),r&&a.done]))[0]};return h.set(t,i),i}O(e=>({...e,get:(t,n,s)=>E(t,n)||e.get(t,n,s),has:(t,n)=>!!E(t,n)||e.has(t,n)}));const Z=["continue","continuePrimaryKey","advance"],j={},I=new WeakMap,k=new WeakMap,q={get(e,t){if(!Z.includes(t))return e[t];let n=j[t];return n||(n=j[t]=function(...s){I.set(this,k.get(this)[t](...s))}),n}};async function*ee(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,q);for(k.set(n,t),y.set(n,w(t));t;)yield n,t=await(I.get(n)||t.continue()),I.delete(n)}function P(e,t){return t===Symbol.asyncIterator&&x(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&x(e,[IDBIndex,IDBObjectStore])}O(e=>({...e,get(t,n,s){return P(t,n)?ee:e.get(t,n,s)},has(t,n){return P(t,n)||e.has(t,n)}}));const te="GaubeeAdminDB",g="stagedChanges",ne=1;async function B(){return Q(te,ne,{upgrade(e){e.createObjectStore(g,{keyPath:"path"}).createIndex("by-status","status")}})}async function ge(e){return(await B()).put(g,e)}async function pe(){return(await B()).getAll(g)}async function he(e){return(await B()).delete(g,e)}const xe=F,De=W,se=S,A=m.forwardRef(({className:e,...t},n)=>c.jsx(M,{ref:n,className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));A.displayName=M.displayName;const oe=m.forwardRef(({className:e,children:t,...n},s)=>c.jsxs(se,{children:[c.jsx(A,{}),c.jsxs(L,{ref:s,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(V,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(z,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oe.displayName=L.displayName;const ae=({className:e,...t})=>c.jsx("div",{className:u("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ae.displayName="DialogHeader";const re=({className:e,...t})=>c.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});re.displayName="DialogFooter";const ie=m.forwardRef(({className:e,...t},n)=>c.jsx(v,{ref:n,className:u("text-lg font-semibold leading-none tracking-tight",e),...t}));ie.displayName=v.displayName;const ce=m.forwardRef(({className:e,...t},n)=>c.jsx(T,{ref:n,className:u("text-sm text-muted-foreground",e),...t}));ce.displayName=T.displayName;export{xe as D,ye as G,De as a,oe as b,ae as c,ie as d,re as e,he as f,pe as g,ce as h,ge as u};
